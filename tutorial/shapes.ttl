@prefix brick: <https://brickschema.org/schema/Brick#> .
@prefix hpfs: <urn:hpflex/shapes#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix s223: <http://data.ashrae.org/standard223#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

hpfs:hp-rtu a s223:Class,
        rdfs:Class,
        sh:NodeShape ;
    sh:class brick:Packaged_Heat_Pump,
        brick:RTU ;
    sh:property hpfs:hp-rtu_coolingCapacity,
        hpfs:hp-rtu_coolingCoefficientOfPerformance,
        hpfs:hp-rtu_heatingCapacity,
        hpfs:hp-rtu_heatingCoefficientOfPerformance,
        hpfs:hp-rtu_noAspects .

hpfs:hvac-zone a s223:Class,
        rdfs:Class,
        sh:NodeShape ;
    sh:class brick:HVAC_Zone ;
    sh:property hpfs:hvac-zone_noAspects .

hpfs:site a s223:Class,
        rdfs:Class,
        sh:NodeShape ;
    sh:class brick:Site ;
    sh:property hpfs:site_hasNOAAStation,
        hpfs:site_latitude,
        hpfs:site_longitude,
        hpfs:site_noAspects,
        hpfs:site_timezone .

hpfs:space a s223:Class,
        rdfs:Class,
        sh:NodeShape ;
    sh:class brick:Space ;
    sh:property hpfs:space_area,
        hpfs:space_noAspects .

hpfs:tstat a s223:Class,
        rdfs:Class,
        sh:NodeShape ;
    sh:class brick:Thermostat ;
    sh:property hpfs:tstat_hasPoint,
        hpfs:tstat_noAspects,
        hpfs:tstat_operationalStageCount,
        hpfs:tstat_resolution .

hpfs:tstat-heating-cooling-occupancy a s223:Class,
        rdfs:Class,
        sh:NodeShape ;
    sh:class brick:Thermostat ;
    sh:property hpfs:tstat-heating-cooling-occupancy_hasPoint,
        hpfs:tstat-heating-cooling-occupancy_noAspects .

hpfs:window a s223:Class,
        rdfs:Class,
        sh:NodeShape ;
    sh:class brick:Window ;
    sh:property hpfs:window_area,
        hpfs:window_azimuth,
        hpfs:window_noAspects,
        hpfs:window_tilt .

hpfs:air-bidirectional-connects-toAnnotation a sh:NodeShape ;
    sh:rule hpfs:air-bidirectional-connects-toAnnotationRule ;
    sh:targetSubjectsOf brick:feeds .

hpfs:air-connects-toAnnotation a sh:NodeShape ;
    sh:rule hpfs:air-connects-toAnnotationRule ;
    sh:targetSubjectsOf brick:feeds .

hpfs:has-locationAnnotation a sh:NodeShape ;
    sh:rule hpfs:has-locationAnnotationRule ;
    sh:targetSubjectsOf brick:hasLocation .

hpfs:has-pointAnnotation a sh:NodeShape ;
    sh:rule hpfs:has-pointAnnotationRule ;
    sh:targetSubjectsOf brick:hasPoint .

hpfs:has-referenceAnnotation a sh:NodeShape ;
    sh:rule hpfs:has-referenceAnnotationRule ;
    sh:targetSubjectsOf <https://brickschema.org/schema/Brick/ref#hasExternalReference> .

hpfs:has-spaceAnnotation a sh:NodeShape ;
    sh:rule hpfs:has-spaceAnnotationRule ;
    sh:targetSubjectsOf brick:hasPart .

hpfs:has-windowAnnotation a sh:NodeShape ;
    sh:rule hpfs:has-windowAnnotationRule ;
    sh:targetSubjectsOf brick:hasPart .

hpfs:hp-rtuAnnotation a sh:NodeShape ;
    sh:rule hpfs:hp-rtuAnnotationRule ;
    sh:targetClass brick:Packaged_Heat_Pump .

hpfs:hvac-zoneAnnotation a sh:NodeShape ;
    sh:rule hpfs:hvac-zoneAnnotationRule ;
    sh:targetClass brick:HVAC_Zone .

hpfs:siteAnnotation a sh:NodeShape ;
    sh:rule hpfs:siteAnnotationRule ;
    sh:targetClass brick:Site .

hpfs:spaceAnnotation a sh:NodeShape ;
    sh:rule hpfs:spaceAnnotationRule ;
    sh:targetClass brick:Space .

hpfs:tstat-heating-cooling-occupancyAnnotation a sh:NodeShape ;
    sh:rule hpfs:tstat-heating-cooling-occupancyAnnotationRule ;
    sh:targetClass brick:Thermostat .

hpfs:tstatAnnotation a sh:NodeShape ;
    sh:rule hpfs:tstatAnnotationRule ;
    sh:targetClass brick:Thermostat .

hpfs:windowAnnotation a sh:NodeShape ;
    sh:rule hpfs:windowAnnotationRule ;
    sh:targetClass brick:Window .

hpfs:air-bidirectional-connects-toAnnotationRule a sh:SPARQLRule ;
    sh:construct """
                CONSTRUCT {
                    ?name <urn:hpflex/shapes#air-bidirectional-connects-to> ?target .
                }
                WHERE {
	?target <https://brickschema.org/schema/Brick#feed> ?name . 
	?name <https://brickschema.org/schema/Brick#feeds> ?target . 
}""" .

hpfs:air-connects-toAnnotationRule a sh:SPARQLRule ;
    sh:construct """
                CONSTRUCT {
                    ?name <urn:hpflex/shapes#air-connects-to> ?target .
                }
                WHERE {
	?name <https://brickschema.org/schema/Brick#feeds> ?target . 
}""" .

hpfs:has-locationAnnotationRule a sh:SPARQLRule ;
    sh:construct """
                CONSTRUCT {
                    ?name <urn:hpflex/shapes#has-location> ?target .
                }
                WHERE {
	?name <https://brickschema.org/schema/Brick#hasLocation> ?target . 
}""" .

hpfs:has-pointAnnotationRule a sh:SPARQLRule ;
    sh:construct """
                CONSTRUCT {
                    ?name <urn:hpflex/shapes#has-point> ?target .
                }
                WHERE {
	?name <https://brickschema.org/schema/Brick#hasPoint> ?target . 
}""" .

hpfs:has-referenceAnnotationRule a sh:SPARQLRule ;
    sh:construct """
                CONSTRUCT {
                    ?name <urn:hpflex/shapes#has-reference> ?target .
                }
                WHERE {
	?name <https://brickschema.org/schema/Brick/ref#hasExternalReference> ?target . 
}""" .

hpfs:has-spaceAnnotationRule a sh:SPARQLRule ;
    sh:construct """
                CONSTRUCT {
                    ?name <urn:hpflex/shapes#has-space> ?target .
                }
                WHERE {
	?name <https://brickschema.org/schema/Brick#hasPart> ?target . 
}""" .

hpfs:has-windowAnnotationRule a sh:SPARQLRule ;
    sh:construct """
                CONSTRUCT {
                    ?name <urn:hpflex/shapes#has-window> ?target .
                }
                WHERE {
	?name <https://brickschema.org/schema/Brick#hasPart> ?target . 
}""" .

hpfs:hp-rtuAnnotationRule a sh:TripleRule ;
    sh:condition hpfs:hp-rtu ;
    sh:object hpfs:hp-rtu ;
    sh:predicate rdf:type ;
    sh:subject sh:this .

hpfs:hp-rtu_coolingCapacity rdfs:label "hp-rtu_coolingCapacity" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:coolingCapacity .

hpfs:hp-rtu_coolingCoefficientOfPerformance rdfs:label "hp-rtu_coolingCoefficientOfPerformance" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:coolingCoefficientOfPerformance .

hpfs:hp-rtu_heatingCapacity rdfs:label "hp-rtu_heatingCapacity" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:heatingCapacity .

hpfs:hp-rtu_heatingCoefficientOfPerformance rdfs:label "hp-rtu_heatingCoefficientOfPerformance" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:heatingCoefficientOfPerformance .

hpfs:hp-rtu_noAspects rdfs:label "hp-rtu_noAspects" ;
    sh:maxCount 0 ;
    sh:minCount 0 ;
    sh:path s223:hasAspect .

hpfs:hvac-zoneAnnotationRule a sh:TripleRule ;
    sh:condition hpfs:hvac-zone ;
    sh:object hpfs:hvac-zone ;
    sh:predicate rdf:type ;
    sh:subject sh:this .

hpfs:hvac-zone_noAspects rdfs:label "hvac-zone_noAspects" ;
    sh:maxCount 0 ;
    sh:minCount 0 ;
    sh:path s223:hasAspect .

hpfs:siteAnnotationRule a sh:TripleRule ;
    sh:condition hpfs:site ;
    sh:object hpfs:site ;
    sh:predicate rdf:type ;
    sh:subject sh:this .

hpfs:site_hasNOAAStation rdfs:label "site_hasNOAAStation" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:hasNOAAStation .

hpfs:site_latitude rdfs:label "site_latitude" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:latitude .

hpfs:site_longitude rdfs:label "site_longitude" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:longitude .

hpfs:site_noAspects rdfs:label "site_noAspects" ;
    sh:maxCount 0 ;
    sh:minCount 0 ;
    sh:path s223:hasAspect .

hpfs:site_timezone rdfs:label "site_timezone" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:timezone .

hpfs:spaceAnnotationRule a sh:TripleRule ;
    sh:condition hpfs:space ;
    sh:object hpfs:space ;
    sh:predicate rdf:type ;
    sh:subject sh:this .

hpfs:space_area rdfs:label "space_area" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:area .

hpfs:space_noAspects rdfs:label "space_noAspects" ;
    sh:maxCount 0 ;
    sh:minCount 0 ;
    sh:path s223:hasAspect .

hpfs:tstat-heating-cooling-occupancyAnnotationRule a sh:TripleRule ;
    sh:condition hpfs:tstat-heating-cooling-occupancy ;
    sh:object hpfs:tstat-heating-cooling-occupancy ;
    sh:predicate rdf:type ;
    sh:subject sh:this .

hpfs:tstat-heating-cooling-occupancy_hasPoint rdfs:label "tstat-heating-cooling-occupancy_hasPoint" ;
    sh:maxCount 7 ;
    sh:minCount 7 ;
    sh:path brick:hasPoint .

hpfs:tstat-heating-cooling-occupancy_noAspects rdfs:label "tstat-heating-cooling-occupancy_noAspects" ;
    sh:maxCount 0 ;
    sh:minCount 0 ;
    sh:path s223:hasAspect .

hpfs:tstatAnnotationRule a sh:TripleRule ;
    sh:condition hpfs:tstat ;
    sh:object hpfs:tstat ;
    sh:predicate rdf:type ;
    sh:subject sh:this .

hpfs:tstat_hasPoint rdfs:label "tstat_hasPoint" ;
    sh:maxCount 3 ;
    sh:minCount 3 ;
    sh:path brick:hasPoint .

hpfs:tstat_noAspects rdfs:label "tstat_noAspects" ;
    sh:maxCount 0 ;
    sh:minCount 0 ;
    sh:path s223:hasAspect .

hpfs:tstat_operationalStageCount rdfs:label "tstat_operationalStageCount" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:operationalStageCount .

hpfs:tstat_resolution rdfs:label "tstat_resolution" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:resolution .

hpfs:windowAnnotationRule a sh:TripleRule ;
    sh:condition hpfs:window ;
    sh:object hpfs:window ;
    sh:predicate rdf:type ;
    sh:subject sh:this .

hpfs:window_area rdfs:label "window_area" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:area .

hpfs:window_azimuth rdfs:label "window_azimuth" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:azimuth .

hpfs:window_noAspects rdfs:label "window_noAspects" ;
    sh:maxCount 0 ;
    sh:minCount 0 ;
    sh:path s223:hasAspect .

hpfs:window_tilt rdfs:label "window_tilt" ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:path brick:tilt .

